<head>
  <title>loanDapp</title>
</head>

<body>

</body>

<template name="hello">
<header class="header-class">
 <h1 class="header-text">Syndicate loan </h1>
 <select class ="select-class select-user" name="selectUser" id="selectUser">
<option selected="selected" value="Rob">Rob</option>
<option value="Alice">Alice</option>
<option value="Mathew">Mathew</option>
<option value="Allen">Allen</option>
</select>
<div class="user-details-bar">
<span class='user-info'>Ether Balance : {{userBalance}}</span>
<span class='user-info'>Account Number : {{userAccountAddr}}</span>
</div>
 </header>
 
<div class="main-container">
<div class="nav-container">
  <ul>
  <li><a class="newLoan" href="#">NewLoan</a></li>
  <li><a class="contribute" href="#">Contribute</a></li>
    <li><a class="checkLoan" href="#">Check Loan Status</a></li>
</ul>
</div>
<div class="content-container">

{{#if currentViewIs "newLoan"}}
{{> newLoanTemplate}}
{{else}}
{{#if currentViewIs "contribute"}}
{{> contributeTemplate}}
{{else}}
{{#if currentViewIs "checkLoan"}}
{{> checkLoanStatusTemplate}}
{{/if}}
	
	{{/if}}


{{/if}}
</div>
<br style="clear:both;"/>
</div>
</template>

<template name="newLoanTemplate">
<form class="newLoanForm">
<header class="template-header"><h1>Create New Loan</h1></header>
<label class="input-text-label">Beneficiary Address :</label><input type ="text" name ="beneficiary" class="input-text-box" value ="{{userAccountAddr}}" readonly> <br>
<label class="input-text-label">Target amount :</label><input type="text" name ="goal" class="input-text-box"><br>
<label class="input-text-label">Deadline :</label> <input type="text" name="deadline" class="input-text-box"> <br>
<label class="input-text-label">Grace Period :</label> <input type ="text" name ="gracePeriod" class="input-text-box"><br>
<label class="input-text-label">Tenor :</label> <input type ="text" name ="tenor" class="input-text-box"><br>
<label class="input-text-label">Interest Rate :</label> <input type ="text" name ="interestRate" class="input-text-box"><br>
<input type="submit" value ="Create Loan" class="submit-button submit-loan">
<div class="spinner-style {{spinnerLoanShow}}" >
{{#spinner type="pulse" visible="{{isLoading}}" class="my-class"}}
    <span>Save!</span>
  {{/spinner}}
  </div>
<br>
</form>
<div class="create-loan-message {{loanIdCreatedClass}}">
<span class="loan-details-summary">Loan with loan Id -{{loanIdCreated}} has been created successfully. </span>
</div>
</template>
<template name ="contributeTemplate">
<header class="template-header"><h1>Contribute</h1></header>
<form class="contributeForm p4b">
<label class="input-text-label">Contributor Address : </label><input type ="text" name ="contributorAddr" class="input-text-box" value ="{{userAccountAddr}}" readonly><br>
<label class="input-text-label">Loan Id :</label> 
 <select id="loanSelectId" class="select-loan select-class">
 <option id="null" value="Select">Select</option>
 {{#each loanIds}}<option id="{{id}}" value="{{id}}">{{id}}</option>{{/each}}
 </select><br>
 <div id="loan-details-contribute" class="{{loanDetailsClass}}">
 <span class="loan-details-summary"> Loan Beneficiary : {{loanBeneficiary}} , </span>
 <span class="loan-details-summary"> Loan Amount :{{loanAmount}} ethers , </span>
 <span class="loan-details-summary"> Tenor left :{{tenorDiff}} blocks ,  </span>
 <span class="loan-details-summary">Total Amount Contributed : {{fundersAmount}} , </span>
 </div>
<label class="input-text-label">Amount :</label><input type="text" name ="amount" class="input-text-box"><br>
<input type ="submit" value ="Contribute" class="submit-loan">
<div class="spinner-style {{spinnerContributeShow}}" >
{{#spinner type="pulse" visible="{{isLoading}}" class="my-class"}}
    <span>Save!</span>
  {{/spinner}}
  </div>
  <br>
</form>
<div class="contribute-message {{loanIdContributedClass}}">
<p class="loan-details-summary">You have successfully contributed.Total Amount after your contribution - {{loanContributed}}.Current Ether balance - {{userBalance}} </p>
</div>
</template>
<template name ="checkLoanStatusTemplate">
<form class="checkGoalReached">
<label class="input-text-label">Loan Id :</label> 
 <select id="loanSelectId" class="select-loan">
 <option id="null" value="Select">Select</option>
 {{#each loanIds}}<option id="{{id}}" value="{{id}}">{{id}}</option>{{/each}}
 </select><br>
 
 <div id="loan-details-contribute" class="{{loanDetailsClass}}">
 <span class="loan-details-summary"> Loan Beneficiary : {{loanBeneficiary}} , </span>
 <span class="loan-details-summary"> Loan Amount :{{loanAmount}} ethers , </span>
 <span class="loan-details-summary"> Tenor left :{{tenorDiff}} blocks ,  </span>
 <span class="loan-details-summary">Total Amount Contributed : {{fundersAmount}} , </span>
 </div>
 <input type ="submit" value ="Check Status" class="submit-loan">
 <div class="spinner-style {{spinnerCheckLoanShow}}" >
{{#spinner type="pulse" visible="{{isLoading}}" class="my-class"}}
    <span>Save!</span>
  {{/spinner}}
  </div>
 </form>
 <div class="check-loan-message {{loanIdCheckClass}}">
<p class="loan-details-summary">Congratulations.Loan target is reached.Current Ether balance - {{userBalance}} </p>
</div>
 </template>